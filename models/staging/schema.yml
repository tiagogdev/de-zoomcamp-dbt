version: 2

sources:
    - name: staging
      #For bigquery:
      database: wise-ally-376418

      schema: dbt_zoomcamp

      # loaded_at_field: record_loaded_at
      tables:
        - name: fhv_2019
         # freshness:
           # error_after: {count: 6, period: hour}

models:
    - name: stg_fhv_tripdata
      description: >
        Trip made by For-Hire Vehicles.
      columns:
          - name: tripid
            description: Primary key for this table, generated with a concatenation of dispatching_base_num+pickup_datetime
            tests:
                - unique:
                    severity: warn
                - not_null:
                    severity: warn
          - name: pickup_datetime 
            description: The date and time when the meter was engaged.
          - name: dropoff_datetime 
            description: The date and time when the meter was disengaged.
          - name: PUlocationID 
            description: ID of PUlocation.
          - name: DOlocationID 
            description: ID of DOlocationID.
          - name: SR_Flag
            description: flag.
          - name: Affiliated_base_number 
            description: Affliated base number.